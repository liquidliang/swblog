{"version":3,"sources":["webpack:///webpack/bootstrap 11392efcc851211efe80","webpack:///./source/src/index.js","webpack:///./source/src/helper/common_event.js","webpack:///./source/src/common/util/index.js","webpack:///./source/src/common/util/event.js","webpack:///./source/src/model/article.js","webpack:///./source/src/helper/search.js","webpack:///./source/src/helper/sw_post_message.js","webpack:///./source/src/model/config.js","webpack:///./source/src/card/common/navigator.js","webpack:///./source/src/page/list.js","webpack:///./source/src/card/common/footer.js","webpack:///./source/src/card/common/main_container.js","webpack:///./source/src/helper/init_option.js","webpack:///./source/src/card/blog/pannel.js","webpack:///./source/src/card/blog/pannel_list.js","webpack:///./source/src/helper/recommend.js","webpack:///./source/src/model/read_history.js","webpack:///./source/src/card/blog/article_list.js","webpack:///./source/src/page/book.js","webpack:///./source/src/card/common/slidebar_container.js","webpack:///./source/src/page/content.js","webpack:///./source/src/card/blog/content.js","webpack:///./source/src/page/blog.js","webpack:///./source/src/page/search.js","webpack:///./source/src/card/blog/pull_article.js"],"names":["require","m_article","m_config","c_header","c_pageList","c_pageBook","c_pageContent","c_pageBlog","c_pageSearch","viewHeader","$","append","getConfig","then","initArticle","reset","BCD","app","setTitle","str","navLis","find","removeClass","each","i","domLi","url","attr","location","hash","indexOf","addClass","document","title","initPage","key","next","page","path","decodeURIComponent","hasBook","hasCatalog","hasArticle","replaceHash","getIndex","m_util","go","ele","option","data","on","e","stopBubble","addCommand","back","history","module","exports","m_event","getTime","date","Date","now","diff","Math","round","getDate","getFullYear","time","formatDate","leftFillString","num","length","substr","getRandomName","random","toString","replace","stopBubbleEx","stopPropagation","preventDefault","m_search","swPostMessage","catalogList","catalogDict","articleList","articleDict","sidebarList","bookList","bookDict","tagList","startTime","isPreload","sidebarName","getSidebarPath","name","result","item","list","idx","summary","content","setTimeout","editormd","markdownToHTML","markdown","htmlDecode","tocm","emoji","taskList","tex","flowChart","sequenceDiagram","baseHash","html","$0","$1","getName","arr","match","getURL","o","mtime","getPath","pathWithSearch","origin","getSortContent","paragraph","len","minLen","ret","substring","partCount","partIndex","$2","getContent","reg","split","filter","count","some","lastIndexOf","con","processItem","isRaw","trim","tfList","getTFs","preload","obj","totalList","concat","existDict","forEach","m","dict","console","log","init","tagSet","Set","processArticle","isDirectory","tags","slice","add","href","encodeURIComponent","push","extend","sort","a","b","processCount","Promise","resolve","ajaxCache","map","getTagArticles","tag","fetchContent","ajaxList","ajax","success","when","apply","getList","method","parseInt","start","getChildCatalog","catalog","tagLength","every","getCatalogArticles","testItem","testType","searchWeight","titleMatchDict","contentMatchDict","test","titleMathLength","pow","pointList","point","weight","startPoint","search","contentMathLength","Object","assign","searchList","word","callback","isCommend","getGlobalRegex","fitList","remainList","searchCallback","resultList","table","totalNum","checkNum","searchWord","batchProcess","subList","splice","testObj","searchDirect","getCatalogMessage","getCatalogs","getBooks","getTags","getArticleList","getListByCatalog","getListByTag","getArticleContent","createNGram","n","end","gramDict","getWordList","wordList","processStrict","processChiese","processEnglish","toLowerCase","removeStopWord","threeDict","fourDict","tfDict","token","frequency","wordSet","RegExp","join","index","postMessage","callbackDict","navigator","serviceWorker","addEventListener","event","cbid","resp","req","controller","state","host","isLocalhost","username","config","searchIssueURL","newIssueURL","update","author","logoTitle","window","CONFIG","nav","getConfigSync","getNewIssueURL","getSearchIssueURL","viewInput","viewDrop","setView","template","viewGroup","getWord","val","doSearch","getHash","focus","selectLi","selectList","oldWord","hide","keyCode","css","eq","trigger","show","getData","c_footer","c_mainContainer","m_initOption","c_pannel","c_pannelList","c_articleList","viewBody","viewTop","viewList","viewPannelList","addView","viewFoot","currentHash","hasRender","getCode","notRender","hashArr","empty","hrefHead","pageNum","isInline","parent","prepend","anchorBack","scrollY","scrollTo","extendState","getPage","view","m_recommend","viewPannelBook","viewPannelCatalog","viewPannelTag","viewPannelRecommendPost","delay","getRecommend","m_readHistory","itemSet","uniqList","currentPath","hasRead","getCorrelation","a_tfList","b_tfList","total","reduce","sum","getSimilarArticles","calModel","weightList","article","getMutiSamples","tagDict","retList","originList","tagName","keys","j","delayTime","keyWords","alist","storageKey","readHistory","JSON","parse","localStorage","getItem","addHistory","setItem","stringify","getReadTime","s_mainContainer","viewContent","viewSlidebar","slidebar","chapters","fileName","exeCommand","currentDom","c_content","innerHeight","m_pullArticle","container","viewRank","viewTips","full","keyWord"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 11392efcc851211efe80","/**\n * @file index 入口文件，路由定义\n * @author ljquan@qq.com\n */\n\nrequire('helper/common_event.js');\nconst m_article = require('model/article');\nconst m_config = require('model/config');\nconst c_header = require('card/common/navigator');\nconst c_pageList = require('page/list.js');\nconst c_pageBook = require('page/book.js');\nconst c_pageContent = require('page/content.js');\nconst c_pageBlog = require('page/blog.js');\nconst c_pageSearch = require('page/search.js');\nlet viewHeader = c_header();\n$('body').append(viewHeader);\n\nm_config.getConfig.then(() =>\n  m_article.initArticle.then(() => {\n    viewHeader.reset();\n    BCD.app({ //入口\n      setTitle: function (str) {\n        //viewHeader.reset();\n        let navLis = viewHeader.find('.nav li');\n        navLis.removeClass('active');\n        navLis.each((i, domLi) => {\n          let url = $($(domLi).find('a')[0]).attr('data-url') || '';\n          if (location.hash.indexOf(url) === 0) {\n            $(domLi).addClass('active');\n          }\n        });\n        document.title = str;\n      },\n      initPage: function (key, next) {\n        var page = this;\n        if (key == 'index') {\n          c_pageList(page, key);\n          next();\n        } else if (key == 'tag') {\n          c_pageList(page, key);\n          next();\n        } else if (key == 'blog') {\n          c_pageBlog(page);\n          next();\n        } else if (key == 'search') {\n          c_pageSearch(page, key);\n          next();\n        } else {\n          let path = decodeURIComponent(key);\n          if (m_article.hasBook(path)) {\n            c_pageBook(page, path);\n            return next();\n          } else if (m_article.hasCatalog(path)) {\n            c_pageList(page, path);\n            return next();\n          } else if (m_article.hasArticle(path)) {\n            c_pageContent(page, path);\n            return next();\n          }\n\n          BCD.replaceHash(m_config.getIndex());\n          next(-1);\n        }\n      }\n    });\n  })\n);\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/index.js","const m_util = require('common/util')\n//data-on=\"?m=go\" data-url=\"<%=o.href%>\"\nconst go = (ele, option, data)=>{\n  ele.on('click', function(e){\n    BCD.go(ele.data('url'));\n    m_util.stopBubble(e);\n  })\n};\nBCD.addCommand('go', go);\n//data-on=\"?m=back\"\nconst back = (ele, option, data)=>{\n  ele.on('click', function(e){\n    history.back();\n    m_util.stopBubble(e);\n  })\n};\nBCD.addCommand('back', back);\n\nconst replaceHash = (ele, option, data)=>{\n  ele.on('click', function(e){\n    BCD.replaceHash(ele.data('url'));\n    m_util.stopBubble(e);\n  })\n};\nBCD.addCommand('replaceHash', replaceHash);\n//事件绑定\nmodule.exports = {\n  go,\n  back,\n  replaceHash\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/helper/common_event.js","const m_event = require('./event');\nconst getTime = function(date) {\n  date = new Date(date);\n  var now = new Date();\n  var diff = now - date;\n  switch (true) {\n    case diff < 6E4:\n      return '刚刚';\n    case diff < 36E5:\n      return Math.round(diff / 6E4) + '分钟前';\n    case diff < 864E5:\n      return Math.round(diff / 36E5) + '小时前';\n    case diff < 1728E5 && now.getDate() - date.getDate() != 2:\n      return '昨天';\n    case date.getFullYear() === new Date().getFullYear():\n      return BCD.time.formatDate(date, \"%M月%d日\");\n    default:\n      return BCD.time.formatDate(date, \"%y年%M月%d日\");\n  }\n};\n\nconst leftFillString = function(num, length) {\n  return (\"0000000000\" + num).substr(-length);\n};\nconst getRandomName = function() {\n  return (\"aaaaaaaaaa\" + Math.random().toString(36).replace(/[.\\d]/g, '')).substr(-10)\n};\nmodule.exports = {\n  getTime,\n  leftFillString,\n  getRandomName,\n  stopBubble: m_event.stopBubble,\n  stopBubbleEx: m_event.stopBubbleEx\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/common/util/index.js","/**\n * @module {Object} event  事件相关的处理函数\n * @return {object} 方法集合\n * @property {function} stopBubble 停止冒泡并禁止默认事件\n * @property {function} stopBubbleEx 停止冒泡\n * @author ljquan@qq.com\n */\n\nmodule.exports = {\n    /**\n     * 停止冒泡并禁止默认事件\n     * @param  {event} e 事件\n     * @return {null}\n     */\n    stopBubble: function(e) {\n        if (e && e.stopPropagation) {\n            e.stopPropagation();\n        }\n        e.preventDefault();\n    },\n    /**\n     * 停止冒泡\n     * @param  {event} e 事件\n     * @return {null}\n     */\n    stopBubbleEx: function(e) {\n        if (e && e.stopPropagation) {\n            e.stopPropagation();\n        }\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/common/util/event.js","const m_util = require('common/util/index');\nconst m_search = require('helper/search');\nconst swPostMessage = require('helper/sw_post_message.js');\nlet catalogList = []; //目录列表\nlet catalogDict = {};\nlet articleList = []; //文件列表\nlet articleDict = {};\nlet sidebarList = []; //sidebar文件列表(sidebar文件也可以在articleDict中索引到)\nlet bookList = []; //书籍列表\nlet bookDict = {};\nlet tagList = [];\nlet startTime = Date.now();\nlet isPreload = false;\nconst sidebarName = '$sidebar$';\nconst getSidebarPath = (path) => path + '/' + sidebarName + '.md';\n\nBCD.addCommand('mkview', function (ele, option, data) {\n  let name = m_util.getRandomName();\n  let result;\n  if ('idx' in option) {\n    let item = data.list[option.idx];\n    result = item.summary;\n    if (result.length < item.content.length) {\n      result += '...';\n    }\n  } else {\n    result = data.content;\n  }\n\n  ele.attr('id', name);\n  setTimeout(function () { //dom元素展示出来之后再绑定，不然流程图等会有样式问题\n    editormd.markdownToHTML(name, {\n      markdown: result, //+ \"\\r\\n\" + $(\"#append-test\").text(),\n      // htmlDecode: true, // 开启 HTML 标签解析，为了安全性，默认不开启\n      htmlDecode: \"style,script,iframe\", // you can filter tags decode\n      //toc             : false,\n      tocm: true, // Using [TOCM]\n      //tocContainer    : \"#custom-toc-container\", // 自定义 ToC 容器层\n      //gfm             : false,\n      //tocDropdown     : true,\n      // markdownSourceCode : true, // 是否保留 Markdown 源码，即是否删除保存源码的 Textarea 标签\n      emoji: true,\n      taskList: true,\n      tex: true, // 默认不解析\n      flowChart: true, // 默认不解析\n      sequenceDiagram: true // 默认不解析\n    });\n    if (result.indexOf('[TOC]') > -1 && location.hash.indexOf('.md') > 0) { //兼容TOC目录\n      let baseHash = location.hash.replace(/\\.md\\/.*/, '.md');\n      $('#' + name).html($('#' + name).html()\n        .replace(/href=\"#([^\"]*)/g, function ($0, $1) {\n          if ($1) {\n            return 'href=\"' + baseHash + '/' + $1;\n          }\n          return $0\n        }).replace(/name=\"([^\"]*)/g, function ($0, $1) {\n          if ($1) {\n            return 'name=\"' + baseHash.substr(1) + '/' + $1;\n          }\n          return $0\n        }));\n    }\n    $('a[href^=\"http\"]').attr('target', '_blank');\n  }, 0);\n});\n\nconst getName = (path) => {\n  let arr = path.match(/\\/([^/.]+)[.\\w-_]+$/);\n  return arr ? arr[1] : '';\n}\n\nconst getURL = (o) => '/' + o.path + '?mtime=' + o.mtime;\n\nconst getPath = (pathWithSearch) => decodeURIComponent(pathWithSearch.replace(location.origin + '/', '').replace(/\\?[^?]+/, ''));\n\n\nconst getSortContent = (content, paragraph = 10) => {\n  let len = 500;\n  let minLen = len / 2;\n  let ret = content.substring(0, len);\n  let partCount = 0;\n  let partIndex = 0;\n  ret.replace(/([^\\n]*)(\\n|<br>|<\\/p>)/g, function ($0, $1, $2, idx) {\n    partCount++;\n    if (partCount > paragraph && $1.length > 10 && partIndex === 0) {\n      partIndex = idx;\n    }\n    if (partCount == 15 && partIndex === 0) {\n      partIndex = idx;\n    }\n  });\n  if (partIndex > 0) {\n    ret = ret.substring(0, partIndex);\n    if (ret.length < len * 0.7) {\n      return ret;\n    }\n  }\n  let getContent = (str, reg) => {\n    let arr = str.split(reg).filter(o => !!o);\n    let count = 0;\n    if (arr && arr.length > 2) {\n      let idx = arr.length - 1;\n      if (arr.some((o, i) => {\n          count += o.length;\n          if (count > minLen && i > 1) {\n            idx = i;\n            return true;\n          }\n        })) {\n        return str.substr(0, str.lastIndexOf(arr[idx])).replace(/[#\\s]+$/, '');\n      }\n      return str;\n    }\n  }\n  let con = getContent(ret, /\\s*#+\\s*/);\n  if (con) {\n    return con;\n  }\n  con = getContent(ret, /\\s+/);\n  if (con) {\n    return con;\n  }\n  return ret;\n}\n\nconst processItem = (item, content)=>{\n  if(item.title==sidebarName){\n    item.content = content;\n    return item;\n  }\n  let isRaw = true;\n  // let start = content.indexOf('---');\n  // if(start>-1){\n  //   let end;\n  //   if(start===0){\n  //     start = start+3;\n  //     end = content.substring(start).indexOf('---') + start;\n  //   }else{\n  //     end = start;\n  //     start = 0;\n  //   }\n  //   let arr = content.substring(start, end).match(/([^:\\n]+:[^\\n]+)/g);\n  //   if(arr){\n  //     let attrDict = {};\n  //     arr.forEach(function(o){\n  //       let point = o.indexOf(':');\n  //       attrDict[o.substring(0, point)] = o.substring(point+1);\n  //     });\n  //     item.title = attrDict.title || item.title;\n  //     isRaw = false;\n  //     content = content.substring(end+3).trim();\n  //     if(attrDict.dest_url){\n  //       content = '链接：['+attrDict.dest_url+']('+attrDict.dest_url+')'\n  //     }\n  //   }\n  // }\n  if(isRaw){\n    let arr = content.match(/^[\\s]*#[^\\n]+[\\s]*/);\n    if(arr){\n     let title = arr[0];\n     item.title = title.replace(/[#\\s]+/, '').trim();\n     content = content.replace(title, '');\n     isRaw = false;\n    }\n  }\n\n  item.content = content = (content || '').replace(/^[\\s]*---[-]*/, '');\n  item.tfList = m_search.getTFs(content);\n  item.summary = getSortContent(content);\n  return item;\n};\n\nconst preload = (obj) => {\n  let count = 0;\n  for (var pathWithSearch in obj) {\n    let path = getPath(pathWithSearch);\n    let item;\n    if (item = articleDict[path]) {\n      count++;\n      processItem(item, obj[pathWithSearch]);\n    }\n  }\n  let totalList = sidebarList.concat(articleList);\n  let existDict = {};\n  totalList.forEach(o => {\n    existDict[location.origin + '/' + o.path] = 1;\n  });\n\n  swPostMessage({\n    m: 'delete_not_exist_article',\n    dict: existDict\n  });\n\n\n  if (isPreload) {\n    if (count) {\n      console.log('文章同步成功（' + count + '篇）！可以离线使用');\n    } else {\n      console.log('文章同步成功!（无更新内容）');\n    }\n    return false;\n  } else {\n    isPreload = true;\n    console.log('本地文章加载成功（' + count + '/' + (articleList.length + sidebarList.length) + '个文件）');\n  }\n  return true;\n};\n\nconst init = (list) => {\n  catalogList = []; //目录列表\n  articleList = []; //文件列表\n  sidebarList = [];\n  bookList = [];\n  let tagSet = new Set();\n  let processArticle = (o) => {\n    let {\n      path = '', mtime\n    } = o;\n    if (o.isDirectory) {\n      let tags = path.split('/').slice(1);\n      tags.forEach(o => tagSet.add(o));\n      let item = {\n        path,\n        time: m_util.getTime(mtime),\n        href: '#!/' + encodeURIComponent(o.path),\n        title: path.slice(path.lastIndexOf('/') + 1),\n        tagList: tags\n      };\n      catalogList.push(item);\n    } else {\n      let tags = path.split('/').slice(1, -1);\n      tags.forEach(o => tagSet.add(o));\n      let item = {\n        path,\n        mtime,\n        href: '#!/' + encodeURIComponent(o.path),\n        title: getName(path),\n        time: m_util.getTime(mtime),\n        tagList: tags\n      };\n      if (articleDict[path]) {\n        item = $.extend(articleDict[path], item);\n      } else {\n        articleDict[path] = item;\n      }\n      articleList.push(item);\n    }\n  };\n  list.forEach(processArticle);\n  articleList = articleList.filter(o => {\n    if (o.title == sidebarName) {\n      sidebarList.push(o);\n      return false;\n    }\n    return true;\n  });\n  catalogList = catalogList.filter(o => {\n    if (articleDict[getSidebarPath(o.path)]) {\n      bookDict[o.path] = o;\n      bookList.push(o);\n      return false;\n    }\n    catalogDict[o.path] = o;\n    return true;\n  });\n  articleList = articleList.sort((a, b) => {\n    return b.mtime - a.mtime;\n  });\n  tagList = [...tagSet];\n};\n\nlet processCount = 0;\n//先用缓存，请求回来再更新\nconst initArticle = new Promise((resolve) => {\n  BCD.ajaxCache('./json/article.json', (data) => {\n    init(data);\n    processCount++;\n    if (processCount === 2) { //如果网络请求失败，这里不会被执行\n      let totalList = sidebarList.concat(articleList);\n      swPostMessage({\n        m: 'preloadAtricle',\n        list: totalList.map(getURL)\n      }, preload);\n    }\n    resolve();\n    return 1; //缓存数据到localStorage\n  }, 0, 1E3, true);\n});\n\n//获取包含相关tag文章列表\nconst getTagArticles = (tag) => {\n  if (tag) {\n    return articleList.filter(o => o.tagList &&\n      o.tagList.indexOf(tag) > -1);\n  }\n  return articleList;\n};\n\nconst fetchContent = (list) => {\n  let ajaxList = list.filter(o => articleDict[o.path] && !articleDict[o.path].content).map(o => $.ajax({\n    url: getURL(o),\n    success(str) {\n      articleDict[o.path] = processItem(o, str);\n    }\n  }));\n  return new Promise(function (resolve) {\n    $.when.apply(this, ajaxList).then(resolve, resolve);\n  });\n};\n\n\nconst getList = (method) => (tag, page = 0, count = 10) => {\n  page = parseInt(page || 0);\n  let start = page * count;\n  let totalList = method(tag);\n  let list = totalList.slice(start, start + count);\n  return fetchContent(list).then(() => {\n    return {\n      tag,\n      page,\n      count,\n      num: totalList.length,\n      list: list.map(o => articleDict[o.path]).filter(o => !!(o && o.content))\n    };\n  });\n};\n\nconst getChildCatalog = (path) => {\n  let catalog = catalogDict[path];\n  if (catalog) {\n    let tagList = catalog.tagList;\n    let tagLength = tagList.length + 1;\n    return bookList.concat(catalogList).filter(o => o.tagList.length &&\n      tagList.every((tag, i) => o.tagList.length == tagLength && tag == o.tagList[i]));\n  }\n  return [];\n};\n\nconst getCatalogArticles = (path) => {\n  let catalog = catalogDict[path];\n  if (catalog) {\n    let tagList = catalog.tagList;\n    return articleList.filter(o => o.tagList.length &&\n      tagList.every((tag, i) => tag == o.tagList[i])).sort((a, b) => a.tagList.length - b.tagList.length);\n  }\n  return [];\n};\n\nconst testItem = (reg, item) => {\n  let testType = 0;\n  let obj = {};\n  let searchWeight = 0;\n  let titleMatchDict = {};\n  let contentMatchDict = {};\n  if (reg.test(item.title)) {\n    obj.title = item.title.replace(reg, function ($0) {\n      if (titleMatchDict[$0]) {\n        titleMatchDict[$0] ++;\n      }else{\n        titleMatchDict[$0] = 1;\n      }\n      return '<span class=\"text-danger\">' + $0 + '</span>';\n    });\n    testType += 1;\n    let titleMathLength = 0;\n    for (var key in titleMatchDict) {\n      titleMathLength += /\\w/.test(key) ? titleMatchDict[key] : Math.pow(1.6, key.length-1) * titleMatchDict[key];\n    }\n    searchWeight += titleMathLength / item.title.length;\n  }\n  if (item.content && reg.test(item.content)) {\n    let pointList = [];\n    obj.content = item.content.replace(reg, function ($0, point) {\n      if (contentMatchDict[$0]) {\n        contentMatchDict[$0]++;\n      } else{\n        contentMatchDict[$0] = 1;\n      }\n      let weight = /\\w/.test($0) ? 2 : $0.length;\n      pointList.push({\n        point,\n        weight\n      });\n      return '<font color=#a94442>' + $0 + '</font>';\n    });\n    pointList = pointList.sort((a, b) => b.weight - a.weight);\n    let startPoint = pointList[0].point;\n    let start = startPoint - 30;\n    let summary = item.content.substr(start < 0 ? 0 : start);\n    start = summary.search(/[。\\n\\r]/);\n    if (start < startPoint) {\n      summary = getSortContent(summary.substr(start).replace(/^[。\\s]*/, ''), 5);\n    } else {\n      summary = getSortContent(summary.replace(/^[。\\s]*/, ''), 5);\n    }\n    obj.summary = summary.replace(reg, function ($0) {\n      return '<font color=#a94442>' + $0 + '</font>';\n    });\n    testType += 2;\n    let contentMathLength = 0;\n\n    for (var key in contentMatchDict) {\n      contentMathLength += /\\w/.test(key) ? contentMatchDict[key] : Math.pow(1.6, key.length-1) * contentMatchDict[key];\n    }\n    searchWeight += contentMathLength / Math.pow(item.content.length, 0.6);\n  }\n  obj.testType = testType;\n/*******calculate search weight**********/\n\n  obj.searchWeight = searchWeight;\n  return Object.assign({}, item, obj);\n};\n\n\nconst searchList = (word, callback, isCommend = false) => {\n  let reg = m_search.getGlobalRegex(word);\n  let fitList = [];\n  let remainList = [];\n  let ajaxList = [];\n  let totalList = articleList.filter(o => o);\n\n  const searchCallback = (list) => {\n    let resultList = list.filter(o => o.testType > 0).sort((a, b) => {\n      let ret = b.searchWeight - a.searchWeight;\n      if(ret===0){\n        return b.content.length - a.content.length + (b.mtime - a.mtime) / 1E5;\n      }\n      return ret;\n    });\n    if (resultList.length || list.length >= totalList.length) {\n      console.table(resultList.map(o => {\n        return {\n          path: o.path,\n          searchWeight: o.searchWeight\n        };\n      }));\n    }\n    callback({\n      totalNum: totalList.length,\n      checkNum: list.length,\n      searchWord: word,\n      list: resultList\n    });\n  };\n  const batchProcess = (list, next) => {\n    let subList = list.splice(0, 10);\n    fetchContent(subList).then(() => {\n      searchCallback(subList.map(o => testItem(reg, articleDict[o.path])));\n      if (list.length) {\n        batchProcess(list, next);\n      } else if (next) {\n        next();\n      }\n    })\n  };\n  totalList.forEach(o => {\n    let item = articleDict[o.path];\n    if (item) {\n      let testObj = testItem(reg, item);\n      if (item.content) {\n        fitList.push(testObj);\n      } else if (testObj.testType > 0) {\n        ajaxList.push(item);\n      } else {\n        remainList.push(o);\n      }\n    }\n  });\n  if (isCommend) {\n    return callback(ajaxList.concat(fitList).filter(o => o.testType > 0).sort((a, b) => b.searchWeight - a.searchWeight));\n  }\n  searchCallback(fitList);\n  batchProcess(ajaxList, function () {\n    batchProcess(remainList);\n  })\n  return remainList;\n};\n\n\n\n//搜索直达\nconst searchDirect = (word) => {\n  let reg = m_search.getGlobalRegex(word);\n  return articleList.filter(o => reg.test(o.title)).map(o => {\n    let weight = 0;\n    let item = {\n      href: o.href,\n      title: o.title.replace(reg, function ($0) {\n        weight += $0.length;\n        return '<span class=\"text-danger\">' + $0 + '</span>';\n      })\n    };\n    item.weight = weight\n    return item;\n  }).sort((a, b)=>b.weight - a.weight);\n};\n\n\nmodule.exports = {\n  getName,\n  isPreload,\n  startTime,\n  initArticle,\n  catalogDict,\n  articleDict,\n  hasCatalog: (path) => !!catalogDict[decodeURIComponent(path)],\n  hasArticle: (path) => !!articleDict[decodeURIComponent(path)],\n  hasBook: (path) => !!bookDict[decodeURIComponent(path)],\n  getCatalogMessage: (path) => catalogDict[decodeURIComponent(path)],\n  getCatalogs: () => catalogList,\n  getBooks: () => bookList,\n  getTagArticles,\n  getTags: () => tagList,\n  getSidebarPath,\n  getArticleList: () => articleList.map(o => articleDict[o.path]),\n  getListByCatalog: getList(getCatalogArticles),\n  getChildCatalog,\n  getListByTag: getList(getTagArticles),\n  getArticleContent: (path) => fetchContent([articleDict[path]])\n    .then(() => articleDict[path]),\n  searchDirect,\n  searchList\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/model/article.js","const createNGram = (n) => (str) => {\n  let arr = [];\n  let end = str.length - n + 1;\n  for (var i = 0; i < end; i++) {\n    arr.push(str.substr(i, n));\n  }\n  return arr;\n}\n\nconst gramDict = {\n  4: createNGram(4),\n  3: createNGram(3),\n  2: createNGram(2)\n};\n\nconst getWordList = (str = '') => {\n  let wordList = [str];\n  let processStrict = (str) => str.replace(/['‘’][^'‘’]*['‘’]|[\"”“][^\"”“]*[\"”“]/g, function($0) {\n    wordList.push($0.replace(/['‘’\"”“]/g, ''));\n    return ' ';\n  });\n\n\n  let processChiese = (str) => str.replace(/[\\u4e00-\\u9fff\\uf900-\\ufaff]+/g, function($0) {\n    wordList.push($0);\n    for (var i = 4; i > 1; i--) {\n      if ($0.length > i) {\n        wordList.push.apply(wordList, gramDict[i]($0));\n      }\n    }\n    return ' ';\n  });\n\n  let processEnglish = (str) => {\n    wordList.push.apply(wordList,\n      str.split(/[^a-zA-Z]/)\n      .filter(o => o.length > 2)\n      .map(o => o.toLowerCase()));\n  };\n\n  processEnglish(processChiese(processStrict(str)));\n  //console.log('search RegExp', new RegExp(wordList.join('|'), 'ig'));\n  return wordList;\n};\n\nconst removeStopWord = (str) => {\n  str = str.replace(/\\s*```([^`\\n\\r]*)[^`]*```\\s*/g, function($0, $1){return ' '+$1+' ';}); //去掉代码\n  str = str.replace(/<[^\\u4e00-\\u9fff\\uf900-\\ufaff>]+>|\\([^\\u4e00-\\u9fff\\uf900-\\ufaff)]+\\)|\\w+[:@][\\w.?#=&\\/]+/g, ' ');//去掉html标签及超链接\n  str = str.replace(/怎么|的|是|开始|很多|我|觉得|非常|可以|一|了|上面|下面|这|那|哪|个|this|return|with/g, ' '); //去停用词\n  str = str.replace(/[^\\u4e00-\\u9fff\\uf900-\\ufaff\\w]/g, ' '); //非中文或英文，替换成空格\n  return str;\n}\n\nconst getTFs = (str = '') => {\n  let wordList = getWordList(removeStopWord(str)).slice(1);\n  let threeDict = {};\n  let fourDict = {};\n  let tfDict = {};\n  let tfList = [];\n\n  wordList.forEach(o => {\n    if (o.length < 2) {\n      return;\n    }\n    if (tfDict[o]) {\n      tfDict[o]++;\n    } else {\n      if (o.length == 3) {\n        threeDict[o] = 1;\n      }\n      if (o.length == 4) {\n        fourDict[o] = 1;\n      }\n      tfDict[o] = 1;\n    }\n  });\n  var token;\n  //去掉非词\n  for (token in fourDict) {\n    let frequency = tfDict[token];\n    gramDict[3](token).forEach(o => {\n      if (frequency === tfDict[o]) {\n        delete tfDict[o];\n        delete threeDict[o];\n        gramDict[2](o).forEach(item => {\n          if (frequency === tfDict[item]) {\n            delete tfDict[item];\n          }\n        });\n      }\n    });\n  }\n  for (token in threeDict) {\n    let frequency = tfDict[token];\n    gramDict[2](token).forEach(o => {\n      if (frequency === tfDict[o]) {\n        delete tfDict[o];\n      }\n    });\n  }\n\n  for (token in tfDict) {\n    tfList.push({\n      token,\n      frequency: tfDict[token]\n    });\n  }\n  return tfList.sort((a, b) => b.frequency - a.frequency);//.slice(0,10).map(o=>o.token);\n}\n\nmodule.exports = {\n  getWordList,\n  getTFs,\n  getGlobalRegex: (str) => {\n    let wordSet = new Set(getWordList(str));\n    let wordList = [...wordSet];\n    return new RegExp(wordList.join('|'), 'ig');\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/helper/search.js","const m_util = require('common/util');\n\nlet index = 0;\nlet postMessage = function(){};\nlet callbackDict = {};\n\nif (navigator.serviceWorker) {\n  navigator.serviceWorker.addEventListener('message', function(event) {\n    let {cbid, resp} = event.data;\n    if(cbid && callbackDict[cbid]){\n      if(!callbackDict[cbid](resp)){\n        delete callbackDict[cbid];\n      }\n    }\n  }); //页面通过监听service worker的message事件接收service worker的信息\n  postMessage = function(req, callback){\n    if(navigator.serviceWorker.controller && navigator.serviceWorker.controller.state=='activated'){\n      index++;\n      let obj = {req};\n      if(callback){\n        obj.cbid = m_util.getRandomName() + index;\n        callbackDict[obj.cbid] = callback;\n      }\n      navigator.serviceWorker.controller.postMessage(obj);  //页面向service worker发送信息\n    }\n  }\n}\n\n\nmodule.exports = postMessage;//postMessage(message, callback)\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/helper/sw_post_message.js","let arr = location.host.split(\".\");\nlet isLocalhost = arr.length === 1;\nlet username = isLocalhost ? \"swblog\" : arr[0];\nlet config = {\n  \"author\": username,\n  \"nav\": [\n    [\"Home\", \"#!/index\"],\n    [\"About\", \"#!/blog/about.md\"]\n  ]\n};\nlet searchIssueURL;\nlet newIssueURL;\n\nconst update = ()=>{\n  let author = config.author;\n  config.logoTitle = config.logoTitle || author+\"的博客\";\n  searchIssueURL = 'https://github.com/'+author+'/'+author+'.github.io/issues?utf8=%E2%9C%93&q=';\n  newIssueURL = 'https://github.com/' +author+'/'+author+'.github.io/issues/new?title=';\n  if(window.CONFIG){\n    CONFIG.username = username = config.author;\n  }\n};\nupdate();\n\n//先用缓存，请求回来再更新\nconst getConfig = new Promise((resolve)=>{\n  BCD.ajaxCache('./json/config.json', (data) => {\n    config = data || config;\n    if(config.author){\n      update();\n      resolve();\n      return 1; //缓存数据到localStorage\n    }\n    resolve();\n  }, 0, 1E3, true);\n});\n\n\n\n\nwindow.CONFIG = module.exports = {\n  username,\n  getIndex: ()=> config.nav && config.nav[0] && config.nav[0][1] || \"\",\n  isLocalhost,\n  getConfigSync: () => config,\n  getConfig,\n  getNewIssueURL: (title)=> newIssueURL + decodeURIComponent(isLocalhost ? \"localhost测试评论\" : title),\n  getSearchIssueURL: (title)=> newIssueURL + decodeURIComponent(isLocalhost ? \"localhost测试评论\" : title)\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/model/config.js","const m_util = require('common/util');\nconst m_article = require('model/article');\nconst m_config = require('model/config');\n\n\nBCD.addCommand('navigator_search', function(ele){\n  ele.html('<div class=\"form-group open\">'+\n  '  <input type=\"text\" class=\"form-control\" placeholder=\"Search\">'+\n  '  <ul class=\"dropdown-menu\" style=\"right:auto;display:none\"></ul>'+\n  '</div>'+\n  '<button type=\"submit\" class=\"btn btn-primary\">Submit</button>');\n  let viewInput = ele.find('input');\n  let viewDrop = ele.find('ul').setView({\n    template:'<%(obj||[]).forEach(function(o){%>'+\n    '<li data-on=\"?m=go\" data-url=\"<%=o.href%>\"><a><%=o.title%></a></li>'+ //\n    '<%})%>'\n  });\n\n  let viewGroup = ele.find('.form-group');\n  const getWord = ()=> viewInput.val().trim();\n  const doSearch = ()=>{\n    let hash = '#!/search/'+encodeURIComponent(getWord());\n    if(BCD.getHash(0)=='search'){\n      BCD.replaceHash(hash);\n    }else{\n      BCD.go(hash);\n    }\n    setTimeout(function(){\n      viewInput[0].focus(); //延时才能自动focus\n    }, 300);\n  };\n  ele.find('button').on('click', function(e){\n    m_util.stopBubble(e);\n    let word = getWord();\n    if(word){\n      doSearch();\n    }\n  });\n  let selectLi = null;\n  let selectList = null;\n  let index = -1;\n  let oldWord = '';\n  viewInput.on('blur', function(){\n    setTimeout(function(){\n      viewDrop.hide();\n    }, 200);\n  });\n  ele.on('keydown', function(e){//上下选择\n    if(selectList &&(e.keyCode==40 || e.keyCode==38)){\n\n      if(e.keyCode==40){\n        index++;\n        if(index >= selectList.length){\n          index = 0;\n        }\n      }\n      if(e.keyCode==38){\n        index--;\n        if(index <= -selectList.length){\n          index = 0;\n        }\n      }\n      selectList.css('background-color','');\n      selectLi = selectList.eq(index);\n      selectLi.css('background-color','#b2d8fa');\n    }\n  });\n\n  ele.on('keyup', function(e){ //keypress要慢一拍 keypress input keyup\n    let word = getWord();\n    if(word){\n      if(e.keyCode==32){\n        return doSearch();\n      }\n      if(e.keyCode==13){\n        if(selectLi){\n          selectLi.trigger('click');\n        }else{\n          doSearch();\n        }\n      }\n\n      if(word==oldWord){\n        return viewDrop.show();\n      }\n      oldWord = word;\n      let list = m_article.searchDirect(word);\n      if(list.length){\n        index = -1;\n        selectLi = null;\n        viewDrop.reset(list);\n        selectList = viewDrop.find('li');\n      }\n    }else{\n      viewDrop.hide();\n    }\n  });\n})\n\n\n //顶部导航\nmodule.exports = function(option) {\n  let viewHeader = $('<header class=\"navbar navbar-inverse navbar-fixed-top bs-docs-nav\" role=\"banner\"></header>');\n  option = $.extend({\n    name: 'common/header',\n    getData: function() {\n      return m_config.getConfigSync()\n    },\n    template: '  <div class=\"container\">' +\n      '    <div class=\"navbar-header\">' +\n      '      <button class=\"navbar-toggle\" type=\"button\" data-toggle=\"collapse\" data-target=\".bs-navbar-collapse\">' +\n      '        <span class=\"sr-only\">Toggle navigation</span>' +\n      '        <span class=\"icon-bar\"></span>' +\n      '        <span class=\"icon-bar\"></span>' +\n      '        <span class=\"icon-bar\"></span>' +\n      '      </button>' +\n      '      <a data-on=\"?m=go\" data-url=\"<%=CONFIG.getIndex()%>\" class=\"logo-link\" style=\"padding: 12px;\"><%-obj.logoTitle%></a>' +\n      '    </div>' +\n      '    <nav class=\"collapse navbar-collapse bs-navbar-collapse\" role=\"navigation\">' +\n      '      <div class=\"navbar-form navbar-right\" data-on=\"?m=navigator_search\"></div>'+\n      '      <ul class=\"nav navbar-nav\"><%(obj.nav || []).forEach(function(o){%>' +\n      '        <li class=\"<%=location.hash==o[1] ? \"active\" : \"\"%>\"><a data-on=\"?m=replaceHash\" data-url=\"<%=o[1]%>\"><%-o[0]%></a></li>' +\n      '        <%})%>' +\n      '      </ul>' +\n      '    </nav>' +\n      '  </div>'\n  }, option);\n  return viewHeader.setView(option);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/common/navigator.js","const c_footer = require('card/common/footer');\nconst c_mainContainer = require('card/common/main_container');\nconst m_article = require('model/article');\nconst m_initOption = require('helper/init_option');\nconst c_pannel = require('card/blog/pannel');\nconst c_pannelList = require('card/blog/pannel_list');\nconst c_articleList = require('card/blog/article_list');\n\n\n\nmodule.exports = function (page, key) {\n  let viewBody = c_mainContainer();\n  let viewTop;\n  let viewList = viewBody.find('[data-selector=\"main\"]');\n  let viewPannelList = c_pannelList(viewBody.find('[data-selector=\"panel\"]'));\n  viewList.setView(c_articleList());\n  viewBody.addView(viewPannelList);\n\n  let viewFoot = c_footer();\n  let currentHash;\n  page.setView({\n    start: function (hasRender) {\n      if (hasRender && currentHash == location.hash && BCD.history.getCode() == -1) {\n        return m_initOption.notRender(hasRender);\n      }\n      currentHash = location.hash;\n      let hashArr = decodeURIComponent(location.hash).split('/');\n      viewList.empty();\n      if (key == 'index') {\n        m_article.getListByTag(0, hashArr[2]).then((data) => {\n          data.title = \"最新文章\";\n          data.hrefHead = '#!/index';\n          viewList.reset(data);\n        });\n      } else if (key == 'tag') {\n        let tag = hashArr[2];\n        m_article.getListByTag(tag, hashArr[3]).then((data) => {\n          data.title = '\"' + tag + '\" 的最新文章';\n          data.hrefHead = '#!/tag/' + tag;\n          viewList.reset(data);\n        });\n      } else if (m_article.hasCatalog(key)) {\n        let pageNum = parseInt(hashArr[2] || 0);\n        if (pageNum === 0) {\n          if (viewTop) {\n            viewTop.show();\n          } else {\n            viewTop = c_pannel().reset({\n              isInline: true,\n              list: m_article.getChildCatalog(key).map(o => {\n                return {\n                  href: o.href,\n                  title: o.title\n                }\n              })\n            });\n          }\n          viewList.parent().prepend(viewTop);\n          //console.log('getChildCatalog', key, m_article.getChildCatalog(key));\n        } else if (viewTop) {\n          viewTop.hide();\n        }\n        m_article.getListByCatalog(key, pageNum).then((data) => {\n          data.title = '\"' + data.tag.replace(/^[^/]+\\//, '') + '\" 的最新文章';\n          data.hrefHead = '#!/' + BCD.getHash(0);\n          viewList.reset(data);\n        });\n      }\n    },\n    title: '文章列表',\n    viewList: [viewBody, viewFoot]\n  })\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/page/list.js"," //页脚\nconst m_config = require('model/config');\nmodule.exports = function(option) {\n  let viewHeader = $('<footer></footer>');\n  option = $.extend({\n    name: 'common/footer',\n    getData: function() {\n      return m_config.getConfigSync()\n    },\n    template:\n        '<div class=\"container\">'+\n        '  <hr>'+\n        '  <p class=\"text-center\">Copyright <%-obj.author%> © <%=new Date().getFullYear()%>. All rights reserved.</p>'+\n        '</div>'\n  }, option);\n  return viewHeader.setView(option);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/common/footer.js","module.exports = ()=> $('<div class=\"container\">' +\n  '  <div class=\"row\">' +\n  '    <div class=\"col-sm-7 col-md-8 col-lg-8\">'+\n  '     <div data-selector=\"main\"></div></div>' +\n  '    <div class=\"col-sm-5 col-md-4 col-lg-4\" data-selector=\"panel\"></div>' +\n  '  </div>' +\n  '</div>');\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/common/main_container.js","function anchorBack() {\n    if (history.state && history.state.scrollY) { //支持锚点返回\n        if (BCD.history.getCode() == -1) {\n            scrollTo(0, history.state.scrollY);\n        }\n        BCD.extendState({ //保证刷新可回到头部\n            scrollY: 0\n        });\n    }\n}\n\n//带锚点返回，不reset子view\nfunction notRender(hasRender) {\n    if (hasRender) {\n        BCD.getPage().show();\n        anchorBack();\n        return 'show';\n    }\n}\nmodule.exports = {\n    notRender,\n    anchorBack\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/helper/init_option.js"," //顶部导航\nmodule.exports = function(option) {\n  let view = $('<div class=\"panel panel-primary\"></div>');\n  option = $.extend({\n    name: 'blog/panel',\n    template:\n      '<%if(obj.title){%><div class=\"panel-heading\">' +\n      '  <h4><%-obj.title%></h4>' +\n      '</div><%}%>' +\n      '<div class=\"panel-body\">' +\n      '  <%if(obj.isInline){%>' +\n      '    <ul class=\"list-inline\">'+\n      '     <%(obj.list || []).forEach(function(o){%>' +\n      '      <%if(o.href){%>'+\n      '       <li><a data-on=\"?m=go\" data-url=\"<%=o.href%>\"><%=o.title%></a></li>'+\n      '      <%}else{%>'+\n      '       <li><a data-on=\"?m=go\" data-url=\"#!/tag/<%=o%>\"><%=o%></a></li>'+\n      '      <%}%>' +\n      '     <%})%>'+\n      '    </ul>' +\n      '  <%}else{%>' +\n      '    <ul class=\"list-group\">' +\n      '     <%(obj.list || []).forEach(function(o){%>' +\n      '      <li class=\"list-group-item\"><a data-on=\"?m=go\" data-url=\"<%=o.href%>\"><%=o.title%></a>'+\n      '       <%=o.time ? \"<span style=\\\\\\\"color: #a2a34f;\\\\\\\">(\"+o.time+\")</span>\" : \"\"%></li>' +\n      '     <%})%>'+\n      '    </ul>' +\n      '    <%}%>' +\n      '</div>',\n    end: function(data){\n      if(!(data && data.list && data.list.length)){\n        this.hide();\n        return 'hide';\n      }\n    }\n  }, option);\n  return view.setView(option);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/blog/pannel.js","const m_article = require('model/article');\nconst m_recommend = require('helper/recommend');\nconst c_pannel = require('card/blog/pannel');\nmodule.exports = (view) => {\n  let viewPannelBook = c_pannel({\n    data: {\n      title: '书籍',\n      list: m_article.getBooks().map(o => {\n        return {\n          href: o.href,\n          title: o.title,\n          time: o.time\n        }\n      })\n    }\n  });\n  let viewPannelCatalog = c_pannel({\n    data: {\n      title: '分类',\n      list: m_article.getCatalogs().filter(o => o.tagList.length === 1).map(o => {\n        return {\n          title: o.title,\n          href: o.href\n        }\n      })\n    }\n  });\n  let viewPannelTag = c_pannel({\n    data: {\n      isInline: true,\n      title: '标签',\n      list: m_article.getTags()\n    }\n  });\n\n  let viewPannelRecommendPost = c_pannel({\n    delay: true\n  });\n  m_recommend.getRecommend(function(list){\n    viewPannelRecommendPost.reset({\n      title: '推荐阅读',\n      list: list.map(o => {\n        return {\n          href: o.href,\n          title: o.title,\n          time: o.time\n        }\n      })\n    });\n  });\n\n  return view.setView({\n    viewList: [viewPannelBook, viewPannelCatalog, viewPannelTag, viewPannelRecommendPost]\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/blog/pannel_list.js","const m_article = require('model/article');\nconst m_search = require('helper/search');\nconst m_readHistory = require('model/read_history');\n\nconst filter = (list) => {\n  let arr = [];\n  let itemSet = new Set(list);\n  let uniqList = [...itemSet];\n  let currentPath = decodeURIComponent(location.hash.replace('#!/', ''));\n  uniqList.some(function (o) {\n    if (!m_readHistory.hasRead(o.path) && o.path != currentPath) {\n      arr.push(o);\n      if (arr.length > 10) {\n        return true;\n      }\n    }\n  });\n  return arr;\n};\n\nconst getCorrelation = (a_tfList) => {\n  let tfDict = {};\n  a_tfList.forEach(o => {\n    tfDict[o.token] = o.frequency;\n  });\n  return (b_tfList) => {\n    let total = b_tfList.reduce((sum, item) => sum += item.frequency, 0);\n    return b_tfList.reduce((weight, item) => {\n      weight += (tfDict[item.token] || 0) * item.frequency / total;\n      return weight;\n    }, 0);\n  };\n};\n\nconst getSimilarArticles = (a_tfList) => {\n  let list = m_article.getArticleList().filter(o => o.tfList && o.tfList.length);\n  let calModel = getCorrelation(a_tfList);\n  let weightList = list.map(o => {\n    return {\n      article: o,\n      weight: calModel(o.tfList)\n    }\n  }).sort((a, b) => b.weight - a.weight);\n  console.table(weightList.slice(0, 20).map(o => {\n    return {\n      title: o.article.title,\n      weight: o.weight\n    }\n  }));\n  return weightList.map(o => o.article);\n}\n\nconst getMutiSamples = () => {\n  let tagDict = {};\n  let retList = [];\n  let originList = m_article.getArticleList();\n  let list = originList.filter(o => !m_readHistory.hasRead(o.path));\n  if (list.some(o => {\n      let tagList = o.tagList || [];\n      let tagName = tagList[tagList.length - 1];\n      if (tagDict[tagName]) {\n        tagDict[tagName].push(o);\n      } else {\n        tagDict[tagName] = [];\n        retList.push(o);\n      }\n      if (retList.length == 10) {\n        return true;\n      }\n    })) {\n    return retList;\n  } else {\n    let tagList = Object.keys(tagDict);\n    for (var i = 0; i < 10; i++) {\n      for (var j = 0; j < tagList.length; j++) {\n        let item;\n        let tagName = tagList[j];\n        if (item = tagDict[tagName][i]) {\n          retList.push(item);\n          if (retList.length == 10) {\n            return retList;\n          }\n        }\n      }\n    }\n  }\n  return retList.concat(originList.slice(0, 10-retList.length));\n}\n\nconst getRecommend = (callback) => {\n  let key = decodeURIComponent(BCD.getHash(0));\n  let articleList = getMutiSamples();\n  let delayTime = 2E3 - (Date.now() - m_article.startTime);\n  delayTime = m_article.isPreload ? 0 : (delayTime < 0 ? 0 : delayTime);\n\n  switch (true) {\n  case key == 'tag':\n    let word = decodeURIComponent(BCD.getHash(1));\n    setTimeout(function () {\n      m_article.searchList(word, (list) => {\n        callback(filter(list.concat(articleList)));\n      }, true);\n    }, delayTime);\n    break;\n  case m_article.hasArticle(key):\n    setTimeout(function () {\n      m_article.getArticleContent(key).then((data) => {\n        let tagList = data.tagList;\n        let keyWords = (data.tfList || []).slice(0, 10).map(o => o.token);\n        console.log('本文关键词为：', keyWords.join(','));\n        callback(filter(getSimilarArticles(data.tfList).concat(articleList)));\n      });\n    }, delayTime);\n    break;\n  case m_article.hasCatalog(key):\n    setTimeout(function () {\n      m_article.getListByCatalog(key, 0, 999).then((data) => {\n        //在目录列表中已经有当前目录文章的展示了，在这里优先展示搜索到的内容\n        let catalog = m_article.getCatalogMessage(key);\n        let alist = data.list || [];\n        m_article.searchList(catalog.tagList.join(' '), (list) => {\n          callback(filter(list.concat(alist.concat(articleList))));\n        }, true);\n      });\n    }, delayTime);\n    break;\n\n  default:\n    callback(articleList);\n    break;\n\n  }\n\n\n\n};\nmodule.exports = {\n  getRecommend\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/helper/recommend.js","const m_config = require('model/config');\nconst m_article = require('model/article');\nlet storageKey = 'read_history';\nlet readHistory = {};\nconst init = ()=> {\n  try{\n    readHistory = $.extend({}, JSON.parse(localStorage.getItem(storageKey)), readHistory);\n  }catch(e){}\n};\n\nm_config.getConfig.then(()=>{\n  storageKey = 'read_history_' + m_config.username;\n  init();\n})\n\nconst addHistory = (path)=>{\n  readHistory[path] = Date.now();\n  localStorage.setItem(storageKey, JSON.stringify(readHistory));\n};\n\n\nmodule.exports = {\n  addHistory,\n  hasRead: (path)=> !!readHistory[path],\n  getReadTime: (path)=> readHistory[path]\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/model/read_history.js"," //文章列表\nmodule.exports = function(option) {\n  return $.extend({\n    name: 'blog/article_list',\n    template: '<h3><%=obj.title%></h3>' +\n      '<%if(!(obj.list && obj.list.length)){%>'+\n      '<br><hr><center><h3>暂无内容</h3></center>'+\n      '<%}else{(obj.list || []).forEach(function(o, idx){%><article>' +\n      '  <h2><a data-on=\"?m=go\" data-url=\"<%=o.href%>\"><%-o.title%></a></h2>' +\n      '  <div class=\"row\">' +\n      '    <div class=\"group1 col-sm-6 col-md-6\">' +\n      '      <span class=\"glyphicon glyphicon-folder-open\"></span><%(o.tagList||[]).forEach(function(item, i, arr){%>'+\n      '       <%=i ? \"&nbsp;>&nbsp;\" : \"&nbsp;\"%><a data-on=\"?m=go\" '+\n      '       data-url=\"#!/<%=encodeURIComponent([\"blog\"].concat(arr.slice(0, i+1)).join(\"/\"))%>\"><%=item%></a><%})%>' +\n      '    </div>' +\n      '    <div class=\"group2 col-sm-6 col-md-6\">' +\n      '      <span class=\"glyphicon glyphicon-time\"></span>&nbsp;<%-o.time%>' +\n      '    </div>' +\n      '  </div>' +\n      '  <hr>' +\n      '  <div data-on=\"?m=mkview&idx=<%=idx%>\">'+\n      '  </div><br />' +\n      '' +\n      '  <p class=\"text-right\">' +\n      '    <a data-on=\"?m=go\" data-url=\"<%=o.href%>\">' +\n      '      continue reading...' +\n      '    </a>' +\n      '  </p>' +\n      '  <hr>' +\n      '</article><%})%>' +\n      '' +\n      '<ul class=\"pager\">' +\n      '  <li class=\"previous\"><a <%if(obj.page==0){%>style=\"opacity: 0.5;\"<%}else{%>'+\n      'data-on=\"?m=go\" data-url=\"<%=obj.hrefHead+\"/\"+(obj.page-1)%>\"<%}%>>&larr; Previous</a></li>' +\n      '  <li class=\"next\"><a <%if(obj.page==Math.floor(obj.num/obj.count)){%>style=\"opacity: 0.5;\"<%}else{%>'+\n      'data-on=\"?m=go\" data-url=\"<%=obj.hrefHead+\"/\"+(obj.page+1)%>\"<%}%>>Next &rarr;</a></li>' +\n      '</ul><%}%>'\n  }, option);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/blog/article_list.js","const s_mainContainer = require('card/common/slidebar_container');\nconst m_article = require('model/article');\nconst m_readHistory = require('model/read_history');\nconst c_articleList = require('card/blog/article_list');\n\n\n\nmodule.exports = function (page, key) {\n  page.html(s_mainContainer);\n  let viewContent = page.find('[data-selector=\"main\"]');\n  let viewSlidebar = page.find('[data-selector=\"slidebar\"]');\n  let slidebar;\n  let currentHash;\n  viewSlidebar.setView({\n    name: 'blog/slidebar',\n    template: '<div data-on=\"?m=mkview\"></div>'\n  });\n\n  viewContent.setView({\n    name: 'blog/blog',\n    template: '<div data-on=\"?m=mkview\"></div>'\n  });\n\n\n  page.setView({\n    title: m_article.getName(key),\n    start: function () {\n      if (currentHash !== location.hash) {\n        viewContent.empty();\n        currentHash = location.hash;\n      }\n      this.show();\n      m_article.getArticleContent(m_article.getSidebarPath(key)).then((data) => {\n        let baseHash = '#!/' + BCD.getHash(0);\n        if (!slidebar) {\n          slidebar = $.extend({}, data);\n          let content = slidebar.content || '';\n          let chapters = slidebar.chapters = [];\n\n          slidebar.content = content.replace(/<%(([^>]|[^%]>)+)%>/g, function ($0, $1) {\n            let item = {};\n            let fileName = '';\n            if ($1.indexOf(']')>0) { //这种格式：[描述](相对与当前目录的地址)\n              let arr = $1.substr(1, $1.length - 2).split(/\\]\\s*\\(/);\n              item.title = arr[0] || '';\n              item.href  = baseHash + '/' + (arr[1] || '');\n              fileName = arr[1];\n            } else {\n              item.title = $1;\n              item.href = baseHash + '/' + $1 + '.md';\n              fileName = $1 + '.md';\n            }\n            item.path = key+'/'+fileName;\n            if(m_article.hasArticle(item.path)){\n              chapters.push(item);\n            }\n            return '<a data-on=\"?m=replaceHash\" data-url=\"' + item.href + '\">' + item.title + '</a>'+\n            '<span data-path=\"'+item.path+'\" class=\"icon glyphicon glyphicon-ok\" aria-hidden=\"true\" '+\n            'style=\"'+(m_readHistory.hasRead(item.path) ? '' : 'display:none')+'\"></span>';\n          });\n          viewSlidebar.reset(slidebar);\n          setTimeout(function () {\n            viewSlidebar.exeCommand();\n          });\n        }\n        let fileName = decodeURIComponent(key + location.hash.replace(baseHash, ''));\n        if (m_article.hasArticle(fileName)) {\n          m_article.getArticleContent(fileName).then((data) => {\n            m_readHistory.addHistory(fileName);\n            $(viewSlidebar.find('li.active')).removeClass('active');\n            let currentDom = $('.slidebar [data-path=\"'+fileName+'\"]');\n            currentDom.parent('li').addClass('active');\n            currentDom.show();\n            viewContent.reset(data);\n          });\n        } else if (slidebar.chapters[0]) {\n          return BCD.replaceHash(slidebar.chapters[0].href);\n        } else {\n          viewContent.reset({\n            content: '敬请期待',\n            title: fileName\n          });\n        }\n      });\n    }\n  })\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/page/book.js","module.exports = \n  '  <div class=\"row\">' +\n  '    <div class=\"slidebar col-sm-5 col-md-4 col-lg-3\" data-selector=\"slidebar\"></div>' +\n  '    <div class=\"col-sm-offset-5 col-md-offset-4 col-lg-offset-3 col-sm-7 col-md-8 col-lg-9\" data-selector=\"main\"></div>' +\n  '  </div>';\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/common/slidebar_container.js","//有侧边栏的内容展示\n\nconst c_mainContainer = require('card/common/main_container');\nconst c_footer = require('card/common/footer');\nconst m_article = require('model/article');\nconst m_readHistory = require('model/read_history');\nconst c_pannelList = require('card/blog/pannel_list');\nconst c_content = require('card/blog/content');\nconst m_initOption = require('helper/init_option');\n\n\n\nmodule.exports = function(page, key) {\n  let viewBody = c_mainContainer();\n  let viewContent = viewBody.find('[data-selector=\"main\"]');\n  let viewPannelList = c_pannelList(viewBody.find('[data-selector=\"panel\"]'));\n  viewContent.setView(c_content({\n    delay: true\n  }));\n  viewBody.addView(viewContent);\n  viewBody.addView(viewPannelList);\n\n  let viewFoot = c_footer();\n  page.setView({\n    start: function(hasRender){\n      if(hasRender){\n        return m_initOption.notRender(hasRender);\n      }\n      if(m_article.hasArticle(key)){\n        m_article.getArticleContent(key).then((data)=>{\n          m_readHistory.addHistory(key);\n          page.setView({title: data.title});\n          document.title = data.title;\n          viewContent.reset(data);\n        });\n      }\n    },\n    viewList: [viewBody, viewFoot]\n  })\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/page/content.js","window.CONFIG = require('model/config')\n//单个文章\nmodule.exports = function (option) {\n  return $.extend({\n    name: 'blog/content',\n    template:\n      '<h1><%=obj.title%></h1>' +\n      '  <div class=\"row\">' +\n      '    <div class=\"group1 col-sm-6 col-md-6\">' +\n      '      <span class=\"glyphicon glyphicon-folder-open\"></span><%(obj.tagList||[]).forEach(function(item, i, arr){%>'+\n      '       <%=i ? \"&nbsp;>&nbsp;\" : \"&nbsp;\"%><a data-on=\"?m=go\" '+\n      '       data-url=\"#!/<%=encodeURIComponent([\"blog\"].concat(arr.slice(0, i+1)).join(\"/\"))%>\"><%=item%></a><%})%>' +\n      '    </div>' +\n      '    <div class=\"group2 col-sm-6 col-md-6\">' +\n      '      <span class=\"glyphicon glyphicon-time\"></span>&nbsp;<%-obj.time%>' +\n      '    </div>' +\n      '  </div>' +\n      '  <hr>' +\n      '  <div data-on=\"?m=mkview\">' +\n      '  </div><br />' +\n      '  <hr>' +\n      '</article>' +\n      '<ul class=\"pager\">' +\n      '  <li class=\"previous\"><a data-on=\"?m=back\">← 返回</a></li>' +\n      ' <li><a target=\"_blank\" href=\"<%=CONFIG.getSearchIssueURL(obj.title)%>\">查看评论</a></li>' +\n      ' <li class=\"next\"><a target=\"_blank\" href=\"<%=CONFIG.getNewIssueURL(obj.title)%>\">去评论 &rarr;</a></li>' +\n      '</ul>'\n  }, option);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/blog/content.js","//针对导航的，没有侧边栏的内容展示\n\nconst c_mainContainer = require('card/common/main_container');\nconst c_footer = require('card/common/footer');\nconst m_config = require('model/config');\nconst m_article = require('model/article');\nconst m_initOption = require('helper/init_option');\n\n\n\nmodule.exports = function(page) {\n  let viewBody = $('<div class=\"container\" style=\"min-height:'+((window.innerHeight||640) -200)+'px\"/>').setView({\n   name: 'blog/blog',\n   delay: true,\n   template: '<div data-on=\"?m=mkview\"></div>'\n });\n\n  let viewFoot = c_footer();\n  page.setView({\n    start: function(hasRender){\n      if(hasRender && BCD.history.getCode()==-1){\n        return m_initOption.notRender(hasRender);\n      }\n      let key = location.hash.replace('#!/', '');\n      if(m_article.hasArticle(key)){\n        m_article.getArticleContent(key).then((data)=>{\n          page.setView({title: data.title});\n          document.title = data.title;\n          viewBody.reset(data);\n        });\n      }else{\n        BCD.replaceHash(m_config.getIndex());\n      }\n    },\n    viewList: [viewBody, viewFoot]\n  })\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/page/blog.js","const c_footer = require('card/common/footer');\nconst c_mainContainer = require('card/common/main_container');\nconst m_initOption = require('helper/init_option');\nconst c_pannelList = require('card/blog/pannel_list');\nconst m_pullArticle = require('card/blog/pull_article');\n\nmodule.exports = function (page, key) {\n  let viewBody = c_mainContainer();\n  let viewList = viewBody.find('[data-selector=\"main\"]');\n  let viewPannelList = c_pannelList(viewBody.find('[data-selector=\"panel\"]'));\n  viewList.setView({\n    viewList: [m_pullArticle.container]\n  });\n\n  viewBody.addView(viewList);\n  viewBody.addView(viewPannelList);\n\n  let viewFoot = c_footer();\n  let oldWord = '';\n  page.setView({\n    start: function (hasRender) {\n      let word = decodeURIComponent(BCD.getHash(1));\n      if (hasRender && oldWord == word) {\n        return m_initOption.notRender(true);\n      }\n      oldWord = word;\n      m_pullArticle.init(word);\n    },\n    title: '搜索结果',\n    viewList: [viewBody, viewFoot]\n  })\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/page/search.js","/**\n * 不断增加的列表\n */\nconst m_article = require('model/article');\nvar container = $('<div style=\"display:none;\">' +\n  '<div data-selector=\"tips\" style=\"margin: 20px;font-size: 20px;\"></div>' +\n  '<div data-selector=\"pull_list\"></div>' +\n  '</div>');\n\nvar viewRank = $(container.find('[data-selector=\"pull_list\"]'));\nvar viewTips = $(container.find('[data-selector=\"tips\"]'));\n\nviewRank.setView({\n  full: 'append',\n  template: '<%(obj.list || []).forEach(function(o, idx, list){%><article>' +\n    '  <h2><a data-on=\"?m=go\" data-url=\"<%=o.href%>\"><%=o.title%></a></h2>' +\n    '  <div class=\"row\">' +\n    '    <div class=\"group1 col-sm-6 col-md-6\">' +\n    '      <span class=\"glyphicon glyphicon-folder-open\"></span><%(o.tagList||[]).forEach(function(item, i, arr){%>' +\n    '       <%=i ? \"&nbsp;>&nbsp;\" : \"&nbsp;\"%><a data-on=\"?m=go\" ' +\n    '       data-url=\"#!/<%=encodeURIComponent([\"blog\"].concat(arr.slice(0, i+1)).join(\"/\"))%>\"><%=item%></a><%})%>' +\n    '    </div>' +\n    '    <div class=\"group2 col-sm-6 col-md-6\">' +\n    '      <span class=\"glyphicon glyphicon-time\"></span>&nbsp;<%-o.time%>' +\n    '    </div>' +\n    '  </div>' +\n    '  <hr>' +\n    '  <div data-on=\"?m=mkview&idx=<%=idx%>\">' +\n    '  </div><br />' +\n    '  <p class=\"text-right\">' +\n    '    <a data-on=\"?m=go\" data-url=\"<%=o.href%>\">' +\n    '      continue reading...' +\n    '    </a>' +\n    '  </p>' +\n    '  <%if(idx<list.length-1)print(\"<hr>\")%>' +\n    '</article><%})%>'\n});\n\n\nmodule.exports = {\n  container,\n  init: (word) => {\n    let count = 0;\n    let processCount = 0;\n    let keyWord = '<span class=\"text-danger\">' + word + '</span>'\n    viewTips.html('正在搜索：' + keyWord);\n    viewRank.empty();\n    m_article.searchList(word, function (data) {\n      viewRank.reset(data);\n      count += data.list && data.list.length || 0;\n      processCount += data.checkNum;\n      if (processCount < data.totalNum) {\n        viewTips.html('在(' + processCount + '/' + data.totalNum + ')搜索到' +\n          count + '篇关于：' + keyWord);\n      } else {\n        viewTips.html('在' + data.totalNum + '篇文章中搜索到' +\n          count + '篇关于：' + keyWord);\n      }\n\n      //console.log(data);\n    });\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/blog/pull_article.js"],"sourceRoot":""}