!function(t){function e(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/public/cdn/",e(e.s=11)}([function(t,e,n){"use strict";function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var r=n(2),i=n(8),o=n(14),s=[],c={},l=[],u={},f=[],d=[],h={},g=[],p=Date.now(),v=!1,m=function(t){return t+"/$sidebar$.md"};BCD.addCommand("mkview",function(t,e,n){var a=r.getRandomName(),i=void 0;if("idx"in e){var o=n.list[e.idx];i=o.summary,i.length<o.content.length&&(i+="...")}else i=n.content;t.attr("id",a),setTimeout(function(){if(editormd.markdownToHTML(a,{markdown:i,htmlDecode:"style,script,iframe",tocm:!0,emoji:!0,taskList:!0,tex:!0,flowChart:!0,sequenceDiagram:!0}),i.indexOf("[TOC]")>-1&&location.hash.indexOf(".md")>0){var t=location.hash.replace(/\.md\/.*/,".md");$("#"+a).html($("#"+a).html().replace(/href="#([^"]*)/g,function(e,n){return n?'href="'+t+"/"+n:e}).replace(/name="([^"]*)/g,function(e,n){return n?'name="'+t.substr(1)+"/"+n:e}))}$('a[href^="http"]').attr("target","_blank")},0)});var b=function(t){var e=t.match(/\/([^\/.]+)[.\w-_]+$/);return e?e[1]:""},y=function(t){return"/"+t.path+"?mtime="+t.mtime},C=function(t){return decodeURIComponent(t.replace(location.origin+"/","").replace(/\?[^?]+/,""))},w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=t.substring(0,500),a=0,r=0;if(n.replace(/([^\n]*)(\n|<br>|<\/p>)/g,function(t,n,i,o){a++,a>e&&n.length>10&&0===r&&(r=o),15==a&&0===r&&(r=o)}),r>0&&(n=n.substring(0,r),n.length<350))return n;var i=function(t,e){var n=t.split(e).filter(function(t){return!!t}),a=0;if(n&&n.length>2){var r=n.length-1;return n.some(function(t,e){if((a+=t.length)>250&&e>1)return r=e,!0})?t.substr(0,t.lastIndexOf(n[r])).replace(/[#\s]+$/,""):t}},o=i(n,/\s*#+\s*/);return o||((o=i(n,/\s+/))||n)},x=function(t,e){if("$sidebar$"==t.title)return t.content=e,t;var n=!0;if(n){var a=e.match(/^[\s]*#[^\n]+[\s]*/);if(a){var r=a[0];t.title=r.replace(/[#\s]+/,"").trim(),e=e.replace(r,""),n=!1}}return t.content=e=(e||"").replace(/^[\s]*---[-]*/,""),t.tfList=i.getTFs(e),t.summary=w(e),t},L=function(t){var e=0;for(var n in t){var a=C(n),r=void 0;(r=u[a])&&(e++,x(r,t[n]))}var i=f.concat(l),s={};return i.forEach(function(t){s[location.origin+"/"+t.path]=1}),o({m:"delete_not_exist_article",dict:s}),v?(e?console.log("文章同步成功（"+e+"篇）！可以离线使用"):console.log("文章同步成功!（无更新内容）"),!1):(v=!0,console.log("本地文章加载成功（"+e+"/"+(l.length+f.length)+"个文件）"),!0)},k=function(t){s=[],l=[],f=[],d=[];var e=new Set,n=function(t){var n=t.path,a=void 0===n?"":n,i=t.mtime;if(t.isDirectory){var o=a.split("/").slice(1);o.forEach(function(t){return e.add(t)});var c={path:a,time:r.getTime(i),href:"#!/"+encodeURIComponent(t.path),title:a.slice(a.lastIndexOf("/")+1),tagList:o};s.push(c)}else{var f=a.split("/").slice(1,-1);f.forEach(function(t){return e.add(t)});var d={path:a,mtime:i,href:"#!/"+encodeURIComponent(t.path),title:b(a),time:r.getTime(i),tagList:f};u[a]?d=$.extend(u[a],d):u[a]=d,l.push(d)}};t.forEach(n),l=l.filter(function(t){return"$sidebar$"!=t.title||(f.push(t),!1)}),s=s.filter(function(t){return u[m(t.path)]?(h[t.path]=t,d.push(t),!1):(c[t.path]=t,!0)}),l=l.sort(function(t,e){return e.mtime-t.mtime}),g=[].concat(a(e))},B=0,D=new Promise(function(t){BCD.ajaxCache("./json/article.json",function(e){if(k(e),2===++B){var n=f.concat(l);o({m:"preloadAtricle",list:n.map(y)},L)}return t(),1},0,1e3,!0)}),j=function(t){return t?l.filter(function(e){return e.tagList&&e.tagList.indexOf(t)>-1}):l},I=function(t){var e=t.filter(function(t){return u[t.path]&&!u[t.path].content}).map(function(t){return $.ajax({url:y(t),success:function(e){u[t.path]=x(t,e)}})});return new Promise(function(t){$.when.apply(this,e).then(t,t)})},R=function(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;n=parseInt(n||0);var r=n*a,i=t(e),o=i.slice(r,r+a);return I(o).then(function(){return{tag:e,page:n,count:a,num:i.length,list:o.map(function(t){return u[t.path]}).filter(function(t){return!(!t||!t.content)})}})}},A=function(t){var e=c[t];if(e){var n=e.tagList,a=n.length+1;return d.concat(s).filter(function(t){return t.tagList.length&&n.every(function(e,n){return t.tagList.length==a&&e==t.tagList[n]})})}return[]},T=function(t){var e=c[t];if(e){var n=e.tagList;return l.filter(function(t){return t.tagList.length&&n.every(function(e,n){return e==t.tagList[n]})}).sort(function(t,e){return t.tagList.length-e.tagList.length})}return[]},H=function(t,e){var n=0,a={},r=0,i={},o={};if(t.test(e.title)){a.title=e.title.replace(t,function(t){return i[t]?i[t]++:i[t]=1,'<span class="text-danger">'+t+"</span>"}),n+=1;var s=0;for(var c in i)s+=/\w/.test(c)?i[c]:Math.pow(1.6,c.length-1)*i[c];r+=s/e.title.length}if(e.content&&t.test(e.content)){var l=[];a.content=e.content.replace(t,function(t,e){o[t]?o[t]++:o[t]=1;var n=/\w/.test(t)?2:t.length;return l.push({point:e,weight:n}),"<font color=#a94442>"+t+"</font>"}),l=l.sort(function(t,e){return e.weight-t.weight});var u=l[0].point,f=u-30,d=e.content.substr(f<0?0:f);f=d.search(/[。\n\r]/),d=f<u?w(d.substr(f).replace(/^[。\s]*/,""),5):w(d.replace(/^[。\s]*/,""),5),a.summary=d.replace(t,function(t){return"<font color=#a94442>"+t+"</font>"}),n+=2;var h=0;for(var c in o)h+=/\w/.test(c)?o[c]:Math.pow(1.6,c.length-1)*o[c];r+=h/Math.pow(e.content.length,.6)}return a.testType=n,a.searchWeight=r,Object.assign({},e,a)},E=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=i.getGlobalRegex(t),r=[],o=[],s=[],c=l.filter(function(t){return t}),f=function(n){var a=n.filter(function(t){return t.testType>0}).sort(function(t,e){var n=e.searchWeight-t.searchWeight;return 0===n?e.content.length-t.content.length+(e.mtime-t.mtime)/1e5:n});(a.length||n.length>=c.length)&&console.table(a.map(function(t){return{path:t.path,searchWeight:t.searchWeight}})),e({totalNum:c.length,checkNum:n.length,searchWord:t,list:a})},d=function t(e,n){var r=e.splice(0,10);I(r).then(function(){f(r.map(function(t){return H(a,u[t.path])})),e.length?t(e,n):n&&n()})};return c.forEach(function(t){var e=u[t.path];if(e){var n=H(a,e);e.content?r.push(n):n.testType>0?s.push(e):o.push(t)}}),n?e(s.concat(r).filter(function(t){return t.testType>0}).sort(function(t,e){return e.searchWeight-t.searchWeight})):(f(r),d(s,function(){d(o)}),o)},U=function(t){var e=i.getGlobalRegex(t);return l.filter(function(t){return e.test(t.title)}).map(function(t){var n=0,a={href:t.href,title:t.title.replace(e,function(t){return n+=t.length,'<span class="text-danger">'+t+"</span>"})};return a.weight=n,a}).sort(function(t,e){return e.weight-t.weight})};t.exports={getName:b,isPreload:v,startTime:p,initArticle:D,catalogDict:c,articleDict:u,hasCatalog:function(t){return!!c[decodeURIComponent(t)]},hasArticle:function(t){return!!u[decodeURIComponent(t)]},hasBook:function(t){return!!h[decodeURIComponent(t)]},getCatalogMessage:function(t){return c[decodeURIComponent(t)]},getCatalogs:function(){return s},getBooks:function(){return d},getTagArticles:j,getTags:function(){return g},getSidebarPath:m,getArticleList:function(){return l.map(function(t){return u[t.path]})},getListByCatalog:R(T),getChildCatalog:A,getListByTag:R(j),getArticleContent:function(t){return I([u[t]]).then(function(){return u[t]})},searchDirect:U,searchList:E}},function(t,e,n){"use strict";var a=location.host.split("."),r=1===a.length,i=r?"swblog":a[0],o={author:i,nav:[["Home","#!/index"],["About","#!/blog/about.md"]]},s=void 0,c=void 0,l=function(){var t=o.author;o.logoTitle=o.logoTitle||t+"的博客",s="https://github.com/"+t+"/"+t+".github.io/issues?utf8=%E2%9C%93&q=",c="https://github.com/"+t+"/"+t+".github.io/issues/new?title=",window.CONFIG&&(CONFIG.username=i=o.author)};l();var u=new Promise(function(t){BCD.ajaxCache("./json/config.json",function(e){if(o=e||o,o.author)return l(),t(),1;t()},0,1e3,!0)});window.CONFIG=t.exports={username:i,getIndex:function(){return o.nav&&o.nav[0]&&o.nav[0][1]||""},isLocalhost:r,getConfigSync:function(){return o},getConfig:u,getNewIssueURL:function(t){return c+decodeURIComponent(r?"localhost测试评论":t)},getSearchIssueURL:function(t){return c+decodeURIComponent(r?"localhost测试评论":t)}}},function(t,e,n){"use strict";var a=n(13),r=function(t){t=new Date(t);var e=new Date,n=e-t;switch(!0){case n<6e4:return"刚刚";case n<36e5:return Math.round(n/6e4)+"分钟前";case n<864e5:return Math.round(n/36e5)+"小时前";case n<1728e5&&e.getDate()-t.getDate()!=2:return"昨天";case t.getFullYear()===(new Date).getFullYear():return BCD.time.formatDate(t,"%M月%d日");default:return BCD.time.formatDate(t,"%y年%M月%d日")}},i=function(t,e){return("0000000000"+t).substr(-e)},o=function(){return("aaaaaaaaaa"+Math.random().toString(36).replace(/[.\d]/g,"")).substr(-10)};t.exports={getTime:r,leftFillString:i,getRandomName:o,stopBubble:a.stopBubble,stopBubbleEx:a.stopBubbleEx}},function(t,e,n){"use strict";var a=n(1);t.exports=function(t){var e=$("<footer></footer>");return t=$.extend({name:"common/footer",getData:function(){return a.getConfigSync()},template:'<div class="container">  <hr>  <p class="text-center">Copyright <%-obj.author%> © <%=new Date().getFullYear()%>. All rights reserved.</p></div>'},t),e.setView(t)}},function(t,e,n){"use strict";t.exports=function(){return $('<div class="container">  <div class="row">    <div class="col-sm-7 col-md-8 col-lg-8">     <div data-selector="main"></div></div>    <div class="col-sm-5 col-md-4 col-lg-4" data-selector="panel"></div>  </div></div>')}},function(t,e,n){"use strict";function a(){history.state&&history.state.scrollY&&(-1==BCD.history.getCode()&&scrollTo(0,history.state.scrollY),BCD.extendState({scrollY:0}))}function r(t){if(t)return BCD.getPage().show(),a(),"show"}t.exports={notRender:r,anchorBack:a}},function(t,e,n){"use strict";var a=n(0),r=n(17),i=n(9);t.exports=function(t){var e=i({data:{title:"书籍",list:a.getBooks().map(function(t){return{href:t.href,title:t.title,time:t.time}})}}),n=i({data:{title:"分类",list:a.getCatalogs().filter(function(t){return 1===t.tagList.length}).map(function(t){return{title:t.title,href:t.href}})}}),o=i({data:{isInline:!0,title:"标签",list:a.getTags()}}),s=i({delay:!0});return r.getRecommend(function(t){s.reset({title:"推荐阅读",list:t.map(function(t){return{href:t.href,title:t.title,time:t.time}})})}),t.setView({viewList:[e,n,o,s]})}},function(t,e,n){"use strict";var a=n(1),r=(n(0),"read_history"),i={},o=function(){try{i=$.extend({},JSON.parse(localStorage.getItem(r)),i)}catch(t){}};a.getConfig.then(function(){r="read_history_"+a.username,o()});var s=function(t){i[t]=Date.now(),localStorage.setItem(r,JSON.stringify(i))};t.exports={addHistory:s,hasRead:function(t){return!!i[t]},getReadTime:function(t){return i[t]}}},function(t,e,n){"use strict";function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var r=function(t){return function(e){for(var n=[],a=e.length-t+1,r=0;r<a;r++)n.push(e.substr(r,t));return n}},i={4:r(4),3:r(3),2:r(2)},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=[t];return function(t){e.push.apply(e,t.split(/[^a-zA-Z]/).filter(function(t){return t.length>2}).map(function(t){return t.toLowerCase()}))}(function(t){return t.replace(/[\u4e00-\u9fff\uf900-\ufaff]+/g,function(t){e.push(t);for(var n=4;n>1;n--)t.length>n&&e.push.apply(e,i[n](t));return" "})}(function(t){return t.replace(/['‘’][^'‘’]*['‘’]|["”“][^"”“]*["”“]/g,function(t){return e.push(t.replace(/['‘’"”“]/g,""))," "})}(t))),e},s=function(t){return t=t.replace(/\s*```([^`\n\r]*)[^`]*```\s*/g,function(t,e){return" "+e+" "}),t=t.replace(/<[^\u4e00-\u9fff\uf900-\ufaff>]+>|\([^\u4e00-\u9fff\uf900-\ufaff)]+\)|\w+[:@][\w.?#=&\/]+/g," "),t=t.replace(/怎么|的|是|开始|很多|我|觉得|非常|可以|一|了|上面|下面|这|那|哪|个|this|return|with/g," "),t=t.replace(/[^\u4e00-\u9fff\uf900-\ufaff\w]/g," ")},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=o(s(t)).slice(1),n={},a={},r={},c=[];e.forEach(function(t){t.length<2||(r[t]?r[t]++:(3==t.length&&(n[t]=1),4==t.length&&(a[t]=1),r[t]=1))});var l;for(l in a)!function(){var t=r[l];i[3](l).forEach(function(e){t===r[e]&&(delete r[e],delete n[e],i[2](e).forEach(function(e){t===r[e]&&delete r[e]}))})}();for(l in n)!function(){var t=r[l];i[2](l).forEach(function(e){t===r[e]&&delete r[e]})}();for(l in r)c.push({token:l,frequency:r[l]});return c.sort(function(t,e){return e.frequency-t.frequency})};t.exports={getWordList:o,getTFs:c,getGlobalRegex:function(t){var e=new Set(o(t)),n=[].concat(a(e));return new RegExp(n.join("|"),"ig")}}},function(t,e,n){"use strict";t.exports=function(t){var e=$('<div class="panel panel-primary"></div>');return t=$.extend({name:"blog/panel",template:'<%if(obj.title){%><div class="panel-heading">  <h4><%-obj.title%></h4></div><%}%><div class="panel-body">  <%if(obj.isInline){%>    <ul class="list-inline">     <%(obj.list || []).forEach(function(o){%>      <%if(o.href){%>       <li><a data-on="?m=go" data-url="<%=o.href%>"><%=o.title%></a></li>      <%}else{%>       <li><a data-on="?m=go" data-url="#!/tag/<%=o%>"><%=o%></a></li>      <%}%>     <%})%>    </ul>  <%}else{%>    <ul class="list-group">     <%(obj.list || []).forEach(function(o){%>      <li class="list-group-item"><a data-on="?m=go" data-url="<%=o.href%>"><%=o.title%></a>       <%=o.time ? "<span style=\\"color: #a2a34f;\\">("+o.time+")</span>" : ""%></li>     <%})%>    </ul>    <%}%></div>',end:function(t){if(!(t&&t.list&&t.list.length))return this.hide(),"hide"}},t),e.setView(t)}},function(t,e,n){"use strict";t.exports=function(t){return $.extend({name:"blog/article_list",template:'<h3><%=obj.title%></h3><%if(!(obj.list && obj.list.length)){%><br><hr><center><h3>暂无内容</h3></center><%}else{(obj.list || []).forEach(function(o, idx){%><article>  <h2><a data-on="?m=go" data-url="<%=o.href%>"><%-o.title%></a></h2>  <div class="row">    <div class="group1 col-sm-6 col-md-6">      <span class="glyphicon glyphicon-folder-open"></span><%(o.tagList||[]).forEach(function(item, i, arr){%>       <%=i ? "&nbsp;>&nbsp;" : "&nbsp;"%><a data-on="?m=go"        data-url="#!/<%=encodeURIComponent(["blog"].concat(arr.slice(0, i+1)).join("/"))%>"><%=item%></a><%})%>    </div>    <div class="group2 col-sm-6 col-md-6">      <span class="glyphicon glyphicon-time"></span>&nbsp;<%-o.time%>    </div>  </div>  <hr>  <div data-on="?m=mkview&idx=<%=idx%>">  </div><br />  <p class="text-right">    <a data-on="?m=go" data-url="<%=o.href%>">      continue reading...    </a>  </p>  <hr></article><%})%><ul class="pager">  <li class="previous"><a <%if(obj.page==0){%>style="opacity: 0.5;"<%}else{%>data-on="?m=go" data-url="<%=obj.hrefHead+"/"+(obj.page-1)%>"<%}%>>&larr; Previous</a></li>  <li class="next"><a <%if(obj.page==Math.floor(obj.num/obj.count)){%>style="opacity: 0.5;"<%}else{%>data-on="?m=go" data-url="<%=obj.hrefHead+"/"+(obj.page+1)%>"<%}%>>Next &rarr;</a></li></ul><%}%>'},t)}},function(t,e,n){"use strict";n(12);var a=n(0),r=n(1),i=n(15),o=n(16),s=n(18),c=n(20),l=n(22),u=n(23),f=i();$("body").append(f),r.getConfig.then(function(){return a.initArticle.then(function(){f.reset(),BCD.app({setTitle:function(t){var e=f.find(".nav li");e.removeClass("active"),e.each(function(t,e){var n=$($(e).find("a")[0]).attr("data-url")||"";0===location.hash.indexOf(n)&&$(e).addClass("active")}),document.title=t},initPage:function(t,e){var n=this;if("index"==t)o(n,t),e();else if("tag"==t)o(n,t),e();else if("blog"==t)l(n),e();else if("search"==t)u(n,t),e();else{var i=decodeURIComponent(t);if(a.hasBook(i))return s(n,i),e();if(a.hasCatalog(i))return o(n,i),e();if(a.hasArticle(i))return c(n,i),e();BCD.replaceHash(r.getIndex()),e(-1)}}})})})},function(t,e,n){"use strict";var a=n(2),r=function(t,e,n){t.on("click",function(e){BCD.go(t.data("url")),a.stopBubble(e)})};BCD.addCommand("go",r);var i=function(t,e,n){t.on("click",function(t){history.back(),a.stopBubble(t)})};BCD.addCommand("back",i);var o=function(t,e,n){t.on("click",function(e){BCD.replaceHash(t.data("url")),a.stopBubble(e)})};BCD.addCommand("replaceHash",o),t.exports={go:r,back:i,replaceHash:o}},function(t,e,n){"use strict";t.exports={stopBubble:function(t){t&&t.stopPropagation&&t.stopPropagation(),t.preventDefault()},stopBubbleEx:function(t){t&&t.stopPropagation&&t.stopPropagation()}}},function(t,e,n){"use strict";var a=n(2),r=0,i=function(){},o={};navigator.serviceWorker&&(navigator.serviceWorker.addEventListener("message",function(t){var e=t.data,n=e.cbid,a=e.resp;n&&o[n]&&(o[n](a)||delete o[n])}),i=function(t,e){if(navigator.serviceWorker.controller&&"activated"==navigator.serviceWorker.controller.state){r++;var n={req:t};e&&(n.cbid=a.getRandomName()+r,o[n.cbid]=e),navigator.serviceWorker.controller.postMessage(n)}}),t.exports=i},function(t,e,n){"use strict";var a=n(2),r=n(0),i=n(1);BCD.addCommand("navigator_search",function(t){t.html('<div class="form-group open">  <input type="text" class="form-control" placeholder="Search">  <ul class="dropdown-menu" style="right:auto;display:none"></ul></div><button type="submit" class="btn btn-primary">Submit</button>');var e=t.find("input"),n=t.find("ul").setView({template:'<%(obj||[]).forEach(function(o){%><li data-on="?m=go" data-url="<%=o.href%>"><a><%=o.title%></a></li><%})%>'}),i=(t.find(".form-group"),function(){return e.val().trim()}),o=function(){var t="#!/search/"+encodeURIComponent(i());"search"==BCD.getHash(0)?BCD.replaceHash(t):BCD.go(t),setTimeout(function(){e[0].focus()},300)};t.find("button").on("click",function(t){a.stopBubble(t),i()&&o()});var s=null,c=null,l=-1,u="";e.on("blur",function(){setTimeout(function(){n.hide()},200)}),t.on("keydown",function(t){!c||40!=t.keyCode&&38!=t.keyCode||(40==t.keyCode&&++l>=c.length&&(l=0),38==t.keyCode&&--l<=-c.length&&(l=0),c.css("background-color",""),s=c.eq(l),s.css("background-color","#b2d8fa"))}),t.on("keyup",function(t){var e=i();if(e){if(32==t.keyCode)return o();if(13==t.keyCode&&(s?s.trigger("click"):o()),e==u)return n.show();u=e;var a=r.searchDirect(e);a.length&&(l=-1,s=null,n.reset(a),c=n.find("li"))}else n.hide()})}),t.exports=function(t){var e=$('<header class="navbar navbar-inverse navbar-fixed-top bs-docs-nav" role="banner"></header>');return t=$.extend({name:"common/header",getData:function(){return i.getConfigSync()},template:'  <div class="container">    <div class="navbar-header">      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">        <span class="sr-only">Toggle navigation</span>        <span class="icon-bar"></span>        <span class="icon-bar"></span>        <span class="icon-bar"></span>      </button>      <a data-on="?m=go" data-url="<%=CONFIG.getIndex()%>" class="logo-link" style="padding: 12px;"><%-obj.logoTitle%></a>    </div>    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">      <div class="navbar-form navbar-right" data-on="?m=navigator_search"></div>      <ul class="nav navbar-nav"><%(obj.nav || []).forEach(function(o){%>        <li class="<%=location.hash==o[1] ? "active" : ""%>"><a data-on="?m=replaceHash" data-url="<%=o[1]%>"><%-o[0]%></a></li>        <%})%>      </ul>    </nav>  </div>'},t),e.setView(t)}},function(t,e,n){"use strict";var a=n(3),r=n(4),i=n(0),o=n(5),s=n(9),c=n(6),l=n(10);t.exports=function(t,e){var n=r(),u=void 0,f=n.find('[data-selector="main"]'),d=c(n.find('[data-selector="panel"]'));f.setView(l()),n.addView(d);var h=a(),g=void 0;t.setView({start:function(t){if(t&&g==location.hash&&-1==BCD.history.getCode())return o.notRender(t);g=location.hash;var n=decodeURIComponent(location.hash).split("/");if(f.empty(),"index"==e)i.getListByTag(0,n[2]).then(function(t){t.title="最新文章",t.hrefHead="#!/index",f.reset(t)});else if("tag"==e){var a=n[2];i.getListByTag(a,n[3]).then(function(t){t.title='"'+a+'" 的最新文章',t.hrefHead="#!/tag/"+a,f.reset(t)})}else if(i.hasCatalog(e)){var r=parseInt(n[2]||0);0===r?(u?u.show():u=s().reset({isInline:!0,list:i.getChildCatalog(e).map(function(t){return{href:t.href,title:t.title}})}),f.parent().prepend(u)):u&&u.hide(),i.getListByCatalog(e,r).then(function(t){t.title='"'+t.tag.replace(/^[^\/]+\//,"")+'" 的最新文章',t.hrefHead="#!/"+BCD.getHash(0),f.reset(t)})}},title:"文章列表",viewList:[n,h]})}},function(t,e,n){"use strict";function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var r=n(0),i=(n(8),n(7)),o=function(t){var e=[],n=new Set(t),r=[].concat(a(n)),o=decodeURIComponent(location.hash.replace("#!/",""));return r.some(function(t){if(!i.hasRead(t.path)&&t.path!=o&&(e.push(t),e.length>10))return!0}),e},s=function(t){var e={};return t.forEach(function(t){e[t.token]=t.frequency}),function(t){var n=t.reduce(function(t,e){return t+=e.frequency},0);return t.reduce(function(t,a){return t+=(e[a.token]||0)*a.frequency/n},0)}},c=function(t){var e=r.getArticleList().filter(function(t){return t.tfList&&t.tfList.length}),n=s(t),a=e.map(function(t){return{article:t,weight:n(t.tfList)}}).sort(function(t,e){return e.weight-t.weight});return console.table(a.slice(0,20).map(function(t){return{title:t.article.title,weight:t.weight}})),a.map(function(t){return t.article})},l=function(){var t={},e=[],n=r.getArticleList();if(n.filter(function(t){return!i.hasRead(t.path)}).some(function(n){var a=n.tagList||[],r=a[a.length-1];if(t[r]?t[r].push(n):(t[r]=[],e.push(n)),10==e.length)return!0}))return e;for(var a=Object.keys(t),o=0;o<10;o++)for(var s=0;s<a.length;s++){var c=void 0,l=a[s];if((c=t[l][o])&&(e.push(c),10==e.length))return e}return e.concat(n.slice(0,10-e.length))},u=function(t){var e=decodeURIComponent(BCD.getHash(0)),n=l(),a=2e3-(Date.now()-r.startTime);switch(a=r.isPreload?0:a<0?0:a,!0){case"tag"==e:var i=decodeURIComponent(BCD.getHash(1));setTimeout(function(){r.searchList(i,function(e){t(o(e.concat(n)))},!0)},a);break;case r.hasArticle(e):setTimeout(function(){r.getArticleContent(e).then(function(e){var a=(e.tagList,(e.tfList||[]).slice(0,10).map(function(t){return t.token}));console.log("本文关键词为：",a.join(",")),t(o(c(e.tfList).concat(n)))})},a);break;case r.hasCatalog(e):setTimeout(function(){r.getListByCatalog(e,0,999).then(function(a){var i=r.getCatalogMessage(e),s=a.list||[];r.searchList(i.tagList.join(" "),function(e){t(o(e.concat(s.concat(n))))},!0)})},a);break;default:t(n)}};t.exports={getRecommend:u}},function(t,e,n){"use strict";var a=n(19),r=n(0),i=n(7);n(10);t.exports=function(t,e){t.html(a);var n=t.find('[data-selector="main"]'),o=t.find('[data-selector="slidebar"]'),s=void 0,c=void 0;o.setView({name:"blog/slidebar",template:'<div data-on="?m=mkview"></div>'}),n.setView({name:"blog/blog",template:'<div data-on="?m=mkview"></div>'}),t.setView({title:r.getName(e),start:function(){c!==location.hash&&(n.empty(),c=location.hash),this.show(),r.getArticleContent(r.getSidebarPath(e)).then(function(t){var a="#!/"+BCD.getHash(0);if(!s){s=$.extend({},t);var c=s.content||"",l=s.chapters=[];s.content=c.replace(/<%(([^>]|[^%]>)+)%>/g,function(t,n){var o={},s="";if(n.indexOf("]")>0){var c=n.substr(1,n.length-2).split(/\]\s*\(/);o.title=c[0]||"",o.href=a+"/"+(c[1]||""),s=c[1]}else o.title=n,o.href=a+"/"+n+".md",s=n+".md";return o.path=e+"/"+s,r.hasArticle(o.path)&&l.push(o),'<a data-on="?m=replaceHash" data-url="'+o.href+'">'+o.title+'</a><span data-path="'+o.path+'" class="icon glyphicon glyphicon-ok" aria-hidden="true" style="'+(i.hasRead(o.path)?"":"display:none")+'"></span>'}),o.reset(s),setTimeout(function(){o.exeCommand()})}var u=decodeURIComponent(e+location.hash.replace(a,""));if(r.hasArticle(u))r.getArticleContent(u).then(function(t){i.addHistory(u),$(o.find("li.active")).removeClass("active");var e=$('.slidebar [data-path="'+u+'"]');e.parent("li").addClass("active"),e.show(),n.reset(t)});else{if(s.chapters[0])return BCD.replaceHash(s.chapters[0].href);n.reset({content:"敬请期待",title:u})}})}})}},function(t,e,n){"use strict";t.exports='  <div class="row">    <div class="slidebar col-sm-5 col-md-4 col-lg-3" data-selector="slidebar"></div>    <div class="col-sm-offset-5 col-md-offset-4 col-lg-offset-3 col-sm-7 col-md-8 col-lg-9" data-selector="main"></div>  </div>'},function(t,e,n){"use strict";var a=n(4),r=n(3),i=n(0),o=n(7),s=n(6),c=n(21),l=n(5);t.exports=function(t,e){var n=a(),u=n.find('[data-selector="main"]'),f=s(n.find('[data-selector="panel"]'));u.setView(c({delay:!0})),n.addView(u),n.addView(f);var d=r();t.setView({start:function(n){if(n)return l.notRender(n);i.hasArticle(e)&&i.getArticleContent(e).then(function(n){o.addHistory(e),t.setView({title:n.title}),document.title=n.title,u.reset(n)})},viewList:[n,d]})}},function(t,e,n){"use strict";window.CONFIG=n(1),t.exports=function(t){return $.extend({name:"blog/content",template:'<h1><%=obj.title%></h1>  <div class="row">    <div class="group1 col-sm-6 col-md-6">      <span class="glyphicon glyphicon-folder-open"></span><%(obj.tagList||[]).forEach(function(item, i, arr){%>       <%=i ? "&nbsp;>&nbsp;" : "&nbsp;"%><a data-on="?m=go"        data-url="#!/<%=encodeURIComponent(["blog"].concat(arr.slice(0, i+1)).join("/"))%>"><%=item%></a><%})%>    </div>    <div class="group2 col-sm-6 col-md-6">      <span class="glyphicon glyphicon-time"></span>&nbsp;<%-obj.time%>    </div>  </div>  <hr>  <div data-on="?m=mkview">  </div><br />  <hr></article><ul class="pager">  <li class="previous"><a data-on="?m=back">← 返回</a></li> <li><a target="_blank" href="<%=CONFIG.getSearchIssueURL(obj.title)%>">查看评论</a></li> <li class="next"><a target="_blank" href="<%=CONFIG.getNewIssueURL(obj.title)%>">去评论 &rarr;</a></li></ul>'},t)}},function(t,e,n){"use strict";var a=(n(4),n(3)),r=n(1),i=n(0),o=n(5);t.exports=function(t){var e=$('<div class="container" style="min-height:'+((window.innerHeight||640)-200)+'px"/>').setView({name:"blog/blog",delay:!0,template:'<div data-on="?m=mkview"></div>'}),n=a();t.setView({start:function(n){if(n&&-1==BCD.history.getCode())return o.notRender(n);var a=location.hash.replace("#!/","");i.hasArticle(a)?i.getArticleContent(a).then(function(n){t.setView({title:n.title}),document.title=n.title,e.reset(n)}):BCD.replaceHash(r.getIndex())},viewList:[e,n]})}},function(t,e,n){"use strict";var a=n(3),r=n(4),i=n(5),o=n(6),s=n(24);t.exports=function(t,e){var n=r(),c=n.find('[data-selector="main"]'),l=o(n.find('[data-selector="panel"]'));c.setView({viewList:[s.container]}),n.addView(c),n.addView(l);var u=a(),f="";t.setView({start:function(t){var e=decodeURIComponent(BCD.getHash(1));if(t&&f==e)return i.notRender(!0);f=e,s.init(e)},title:"搜索结果",viewList:[n,u]})}},function(t,e,n){"use strict";var a=n(0),r=$('<div style="display:none;"><div data-selector="tips" style="margin: 20px;font-size: 20px;"></div><div data-selector="pull_list"></div></div>'),i=$(r.find('[data-selector="pull_list"]')),o=$(r.find('[data-selector="tips"]'));i.setView({full:"append",template:'<%(obj.list || []).forEach(function(o, idx, list){%><article>  <h2><a data-on="?m=go" data-url="<%=o.href%>"><%=o.title%></a></h2>  <div class="row">    <div class="group1 col-sm-6 col-md-6">      <span class="glyphicon glyphicon-folder-open"></span><%(o.tagList||[]).forEach(function(item, i, arr){%>       <%=i ? "&nbsp;>&nbsp;" : "&nbsp;"%><a data-on="?m=go"        data-url="#!/<%=encodeURIComponent(["blog"].concat(arr.slice(0, i+1)).join("/"))%>"><%=item%></a><%})%>    </div>    <div class="group2 col-sm-6 col-md-6">      <span class="glyphicon glyphicon-time"></span>&nbsp;<%-o.time%>    </div>  </div>  <hr>  <div data-on="?m=mkview&idx=<%=idx%>">  </div><br />  <p class="text-right">    <a data-on="?m=go" data-url="<%=o.href%>">      continue reading...    </a>  </p>  <%if(idx<list.length-1)print("<hr>")%></article><%})%>'}),t.exports={container:r,init:function(t){var e=0,n=0,r='<span class="text-danger">'+t+"</span>";o.html("正在搜索："+r),i.empty(),a.searchList(t,function(t){i.reset(t),e+=t.list&&t.list.length||0,n+=t.checkNum,n<t.totalNum?o.html("在("+n+"/"+t.totalNum+")搜索到"+e+"篇关于："+r):o.html("在"+t.totalNum+"篇文章中搜索到"+e+"篇关于："+r)})}}}]);